-- Generated by Oracle SQL Developer Data Modeler 17.3.0.261.1529
--   at:        2018-12-07 10:14:16 CET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



CREATE TABLE dilec (
    id       VARCHAR2(64) NOT NULL,
    id_odd   VARCHAR2(64) NOT NULL,
    kod      VARCHAR2(64) NOT NULL
);

ALTER TABLE dilec ADD CONSTRAINT dilec_pk PRIMARY KEY ( id );

CREATE TABLE drevina (
    id         VARCHAR2(64) NOT NULL,
    kod        VARCHAR2(64) NOT NULL,
    popis      VARCHAR2(64),
    poznamka   VARCHAR2(255),
    hustota    NUMBER
);

ALTER TABLE drevina ADD CONSTRAINT drevina_pk PRIMARY KEY ( id );

CREATE TABLE druhtezby (
    id         VARCHAR2(64) NOT NULL,
    kod        VARCHAR2(64) NOT NULL,
    popis      VARCHAR2(64),
    poznamka   VARCHAR2(255)
);

ALTER TABLE druhtezby ADD CONSTRAINT druhtezby_pk PRIMARY KEY ( id );

CREATE TABLE holina (
    id           VARCHAR2(64) NOT NULL,
    id_psk       VARCHAR2(64) NOT NULL,
    souradnice   VARCHAR2(255) NOT NULL,
    rok_vzniku   INTEGER NOT NULL,
    poznamka     VARCHAR2(255)
);

ALTER TABLE holina ADD CONSTRAINT holina_pk PRIMARY KEY ( id );

CREATE TABLE lesnihospodar (
    id            VARCHAR2(64) NOT NULL,
    id_uzivatel   VARCHAR2(64) NOT NULL
);

ALTER TABLE lesnihospodar ADD CONSTRAINT lesnihospodar_pk PRIMARY KEY ( id );

CREATE TABLE lesnihospodarskaevidence (
    id             VARCHAR2(64) NOT NULL,
    id_psk         VARCHAR2(64) NOT NULL,
    id_podvykon    VARCHAR2(64) NOT NULL,
    id_druhtezby   VARCHAR2(64) NOT NULL,
    id_drevina     VARCHAR2(64) NOT NULL,
    plocha         NUMBER,
    mnozstvi       NUMBER
);

ALTER TABLE lesnihospodarskaevidence ADD CONSTRAINT lesnihospodarskaevidence_pk PRIMARY KEY ( id );

CREATE TABLE lesnihospodarskycelek (
    id    VARCHAR2(64) NOT NULL,
    kod   VARCHAR2(64) NOT NULL
);

ALTER TABLE lesnihospodarskycelek ADD CONSTRAINT lesnihospodarskycelek_pk PRIMARY KEY ( id );

CREATE TABLE lhclesnihospodar (
    id_hospodar   VARCHAR2(64) NOT NULL,
    id_lhc        VARCHAR2(64) NOT NULL
);

ALTER TABLE lhclesnihospodar ADD CONSTRAINT lhclesnihospodar_pk PRIMARY KEY ( id_hospodar,
id_lhc );

CREATE TABLE lokalita (
    id      VARCHAR2(64) NOT NULL,
    kod     VARCHAR2(64) NOT NULL,
    popis   VARCHAR2(64),
    "2"     VARCHAR2(255)
);

ALTER TABLE lokalita ADD CONSTRAINT lokalita_pk PRIMARY KEY ( id );

CREATE TABLE oddeleni (
    id       VARCHAR2(64) NOT NULL,
    id_lhe   VARCHAR2(64) NOT NULL,
    kod      VARCHAR2(64) NOT NULL
);

ALTER TABLE oddeleni ADD CONSTRAINT oddeleni_pk PRIMARY KEY ( id );

CREATE TABLE odvoznilistek (
    id             VARCHAR2(64) NOT NULL,
    id_org3        VARCHAR2(64) NOT NULL,
    id_sort        VARCHAR2(64) NOT NULL,
    id_podvykon    VARCHAR2(64) NOT NULL,
    id_lokalita    VARCHAR2(64) NOT NULL,
    id_psk         VARCHAR2(64) NOT NULL,
    datum_odvozu   DATE NOT NULL,
    mnozstvi       NUMBER NOT NULL,
    spz            VARCHAR2(64),
    odberatel      VARCHAR2(64),
    ujete_km       INTEGER
);

ALTER TABLE odvoznilistek ADD CONSTRAINT odvoznilistek_pk PRIMARY KEY ( id );

CREATE TABLE organizacniuroven1 (
    id         VARCHAR2(64) NOT NULL,
    kod        VARCHAR2(64) NOT NULL,
    popis      VARCHAR2(64),
    poznamka   VARCHAR2(255)
);

ALTER TABLE organizacniuroven1 ADD CONSTRAINT organizacniuroven1_pk PRIMARY KEY ( id );

CREATE TABLE organizacniuroven2 (
    id         VARCHAR2(64) NOT NULL,
    id_org1    VARCHAR2(64) NOT NULL,
    kod        VARCHAR2(64) NOT NULL,
    popis      VARCHAR2(64),
    poznamka   VARCHAR2(255)
);

ALTER TABLE organizacniuroven2 ADD CONSTRAINT organizacniuroven2_pk PRIMARY KEY ( id );

CREATE TABLE organizacniuroven3 (
    id         VARCHAR2(64) NOT NULL,
    id_org2    VARCHAR2(64) NOT NULL,
    kod        VARCHAR2(64) NOT NULL,
    popis      VARCHAR2(64),
    poznamka   VARCHAR2(255)
);

ALTER TABLE organizacniuroven3 ADD CONSTRAINT organizacniuroven3_pk PRIMARY KEY ( id );

CREATE TABLE podvykon (
    id         VARCHAR2(64) NOT NULL,
    id_vykon   VARCHAR2(64) NOT NULL,
    kod        VARCHAR2(64) NOT NULL,
    popis      VARCHAR2(64),
    poznamka   VARCHAR2(255)
);

ALTER TABLE podvykon ADD CONSTRAINT podvykon_pk PRIMARY KEY ( id );

CREATE TABLE porost (
    id       VARCHAR2(64) NOT NULL,
    id_dil   VARCHAR2(64) NOT NULL,
    kod      VARCHAR2(64) NOT NULL
);

ALTER TABLE porost ADD CONSTRAINT porost_pk PRIMARY KEY ( id );

CREATE TABLE porostniskupina (
    id       VARCHAR2(64) NOT NULL,
    id_por   VARCHAR2(64) NOT NULL,
    kod      VARCHAR2(64) NOT NULL
);

ALTER TABLE porostniskupina ADD CONSTRAINT porostniskupina_pk PRIMARY KEY ( id );

CREATE TABLE sortiment (
    id         VARCHAR2(64) NOT NULL,
    kod        VARCHAR2(64) NOT NULL,
    popis      VARCHAR2(64),
    poznamka   VARCHAR2(255)
);

ALTER TABLE sortiment ADD CONSTRAINT sortiment_pk PRIMARY KEY ( id );

CREATE TABLE uzivatel (
    id             VARCHAR2(64),
    username       VARCHAR2(64) NOT NULL,
    pass_sha256    VARCHAR2(255) NOT NULL,
    je_kontrolor   CHAR(1) NOT NULL,
    jmeno          VARCHAR2(64) NOT NULL,
    email          VARCHAR2(64)
);

ALTER TABLE uzivatel ADD CONSTRAINT lesnihospodar_pkv3 PRIMARY KEY ( username );

CREATE TABLE vykon (
    id         VARCHAR2(64) NOT NULL,
    kod        VARCHAR2(64) NOT NULL,
    popis      VARCHAR2(64),
    poznamka   VARCHAR2(255)
);

ALTER TABLE vykon ADD CONSTRAINT vykon_pk PRIMARY KEY ( id );

CREATE TABLE zalesneni (
    id             VARCHAR2(64) NOT NULL,
    id_psk         VARCHAR2(64) NOT NULL,
    id_drevina     VARCHAR2(64) NOT NULL,
    plocha         NUMBER NOT NULL,
    souradnice     VARCHAR2(255) NOT NULL,
    rok_vzniku     INTEGER NOT NULL,
    procent_pudy   NUMBER NOT NULL
);

ALTER TABLE zalesneni ADD CONSTRAINT zalesneni_pk PRIMARY KEY ( id );

ALTER TABLE dilec
    ADD CONSTRAINT dilec_oddeleni_fk FOREIGN KEY ( id_odd )
        REFERENCES oddeleni ( id );

ALTER TABLE holina
    ADD CONSTRAINT holina_porostniskupina_fk FOREIGN KEY ( id_psk )
        REFERENCES porostniskupina ( id );

ALTER TABLE lesnihospodar
    ADD CONSTRAINT leshosp_uziv_fk FOREIGN KEY ( id_uzivatel )
        REFERENCES uzivatel ( username );

ALTER TABLE lhclesnihospodar
    ADD CONSTRAINT lesnihosp_fk FOREIGN KEY ( id_hospodar )
        REFERENCES lesnihospodar ( id );

ALTER TABLE lhclesnihospodar
    ADD CONSTRAINT lhc_fk FOREIGN KEY ( id_lhc )
        REFERENCES lesnihospodarskycelek ( id );

ALTER TABLE lesnihospodarskaevidence
    ADD CONSTRAINT lhe_druhtezby_fk FOREIGN KEY ( id_druhtezby )
        REFERENCES druhtezby ( id );

ALTER TABLE lesnihospodarskaevidence
    ADD CONSTRAINT lhe_podvykon_fk FOREIGN KEY ( id_podvykon )
        REFERENCES podvykon ( id );

ALTER TABLE lesnihospodarskaevidence
    ADD CONSTRAINT lhe_psk_fk FOREIGN KEY ( id_psk )
        REFERENCES porostniskupina ( id );

ALTER TABLE lesnihospodarskaevidence
    ADD CONSTRAINT lhee_dilec_fk FOREIGN KEY ( id_drevina )
        REFERENCES drevina ( id );

ALTER TABLE oddeleni
    ADD CONSTRAINT odd_lhc_fk FOREIGN KEY ( id_lhe )
        REFERENCES lesnihospodarskycelek ( id );

ALTER TABLE odvoznilistek
    ADD CONSTRAINT odvoznilistek_lokalita_fk FOREIGN KEY ( id_lokalita )
        REFERENCES lokalita ( id );

ALTER TABLE odvoznilistek
    ADD CONSTRAINT odvoznilistek_orgur3_fk FOREIGN KEY ( id_org3 )
        REFERENCES organizacniuroven3 ( id );

ALTER TABLE odvoznilistek
    ADD CONSTRAINT odvoznilistek_podvykon_fk FOREIGN KEY ( id_podvykon )
        REFERENCES podvykon ( id );

ALTER TABLE odvoznilistek
    ADD CONSTRAINT odvoznilistek_psk_fk FOREIGN KEY ( id_psk )
        REFERENCES porostniskupina ( id );

ALTER TABLE odvoznilistek
    ADD CONSTRAINT odvoznilistek_sortiment_fk FOREIGN KEY ( id_sort )
        REFERENCES sortiment ( id );

ALTER TABLE organizacniuroven2
    ADD CONSTRAINT orgur1_orgur2_fk FOREIGN KEY ( id_org1 )
        REFERENCES organizacniuroven1 ( id );

ALTER TABLE organizacniuroven3
    ADD CONSTRAINT orgur3_orgur2_fk FOREIGN KEY ( id_org2 )
        REFERENCES organizacniuroven2 ( id );

ALTER TABLE podvykon
    ADD CONSTRAINT podvykon_vykon_fk FOREIGN KEY ( id_vykon )
        REFERENCES vykon ( id );

ALTER TABLE porost
    ADD CONSTRAINT porost_dilec_fk FOREIGN KEY ( id_dil )
        REFERENCES dilec ( id );

ALTER TABLE porostniskupina
    ADD CONSTRAINT psk_porost_fk FOREIGN KEY ( id_por )
        REFERENCES porost ( id );

ALTER TABLE zalesneni
    ADD CONSTRAINT zalesneni_drevina_fk FOREIGN KEY ( id_drevina )
        REFERENCES drevina ( id );

ALTER TABLE zalesneni
    ADD CONSTRAINT zalesneni_porostniskupina_fk FOREIGN KEY ( id_psk )
        REFERENCES porostniskupina ( id );



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            21
-- CREATE INDEX                             0
-- ALTER TABLE                             43
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
